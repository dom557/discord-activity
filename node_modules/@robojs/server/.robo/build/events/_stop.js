import { logger } from "../../../.robo/build/core/logger.js";
import { pluginOptions } from "./_start.js";
export default (async ()=>{
    const { engine  } = pluginOptions;
    if (engine.isRunning()) {
        logger.debug('Draining connections...');
        await engine.stop();
    }
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL3JvYm8uanMvcm9iby5qcy9wYWNrYWdlcy9wbHVnaW4tYXBpL3NyYy9ldmVudHMvX3N0b3AudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnfi9jb3JlL2xvZ2dlci5qcydcbmltcG9ydCB7IHBsdWdpbk9wdGlvbnMgfSBmcm9tICcuLi9ldmVudHMvX3N0YXJ0LmpzJ1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyAoKSA9PiB7XG5cdGNvbnN0IHsgZW5naW5lIH0gPSBwbHVnaW5PcHRpb25zXG5cblx0aWYgKGVuZ2luZS5pc1J1bm5pbmcoKSkge1xuXHRcdGxvZ2dlci5kZWJ1ZygnRHJhaW5pbmcgY29ubmVjdGlvbnMuLi4nKVxuXHRcdGF3YWl0IGVuZ2luZS5zdG9wKClcblx0fVxufVxuIl0sIm5hbWVzIjpbImxvZ2dlciIsInBsdWdpbk9wdGlvbnMiLCJlbmdpbmUiLCJpc1J1bm5pbmciLCJkZWJ1ZyIsInN0b3AiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLE1BQU0sUUFBUSxzQ0FBa0I7QUFDekMsU0FBU0MsYUFBYSxRQUFRLGNBQXFCO0FBRW5ELGVBQWUsQ0FBQSxVQUFZO0lBQzFCLE1BQU0sRUFBRUMsT0FBTSxFQUFFLEdBQUdEO0lBRW5CLElBQUlDLE9BQU9DLFNBQVMsSUFBSTtRQUN2QkgsT0FBT0ksS0FBSyxDQUFDO1FBQ2IsTUFBTUYsT0FBT0csSUFBSTtJQUNsQixDQUFDO0FBQ0YsQ0FBQSxFQUFDIn0=